var dtModel={TableName:"example_render",IdOfHiddenInputHoldingTableData:"dt_example_render_data",NameAttributeForHiddenInputHoldingTableData:"name='list_items'",TableClassName:"  table table-striped table-hover table-bordered dataTable ",IsDtAjaxLoadingDefferd:"false",CustomConfigValues:'{"dom":"Bfrtipl","searchHighlight":true,"colReorder":{"fixedColumnsLeft":1,"fixedColumnsRight":1},"scrollY":"400px","processing":true,"initComplete":function(){ onInitComplete(this.api());},"rowId":"Identifiant","columns":[{"data":"Identifiant","orderable":false,"checkboxes":{"selectRow":true}},{"data":"Identifiant","name":"Identifiant","title":"Identifiant","type":"number","visible":false},{"data":"Name","name":"Name","title":"Name","type":"text","orderable":false,"className":"test_class_type","render":function(d,t,r,m){return bold(d,t,r,m);}},{"data":"Age","name":"Age","title":"Age","type":"number","className":"demo-class"},{"data":"DOB","name":"DOB","title":"DOB","type":"date"},{"data":"IsMaried","name":"IsMaried","type":"bool","title":"Married","render":function(d,t,r,m){return formatIsMaried(d,t,r,m);}},{"data":"Progress","name":"Progress","title":"Progress","type":"text","render":$.fn.dataTable.render.percentBar(\'round\',\'#FFF\', \'#269ABC\', \'#31B0D5\', \'#286090\', 1, \'groove\')},{"data":null,"className":"dt-command","orderable":false,"searchable":false,"render":function(d,t,r,m){return cmdEditPerson(d,t,r,m);},"width":"13%"},{"data":null,"orderable":false,"className":"dt-command","render":function ( data, type, row, meta ){ return \'<i class="dt-edit-command far fa-edit" data-row-index=\'+meta.row+\'><\/i>\';}}],"order":[[1,"asc"]],"select":{"style":"multi"},"buttons":[{"extend":"pdf","text":"Export PDF","className":"dt_pdf_btn"}],"ajax":function (data, callback, settings) { \r\n    if (_isDtAjaxLoadingDefferd) {\r\n        _isDtAjaxLoadingDefferd = false;\r\n        callback({data: []}); // don\'t fire ajax, just return empty set\r\n            return; }\r\n\r\n    $.ajax({\r\n  "url": "/Home/GetPeople",\r\n  "method": "POST",\r\n  "beforeSend": function(xhr, opts){ beforeSendFunction(xhr, opts);},\r\n  "success": function(data){dt_convertDates(data); callback(data);onSuccessFunction(data);},\r\n  "error": function(event){ onErrorFunction(event);},\r\n  "data": getPeopleSector(data)\r\n});\r\n    }}',HasDefaultSettings:!0,DefaultConfigValues:"DataTableConfig.dtDefaults",DoCreateDtApiInstance:!0,DtApiInstanceName:"example_render_dt",HasCheckBoxColumn:!0,IsUsedInForm:!0,FormId:"",SubmitWithMultiHiddenInputs:!1,PrefixForMultiHiddenInputs:null,NativeEvents:"$(\"#example_render\").on('new_row_added.dt',function(e){onRowAdded(e);});\r\n$(\"#example_render\").on('new_row_adding.dt',function(e){onRowAdding(e);});\r\n$(\"#example_render\").on('row_removing.dt',function(e){onRowRemoving(e);});\r\n$(\"#example_render\").on('row_removed.dt',function(e){onRowRemoved(e);});\r\n$(\"#example_render\").on('row_updating.dt',function(e){OnRowUpdating(e);});\r\n$(\"#example_render\").on('row_updated.dt',function(e){OnRowUpdated(e);});\r\n$(\"#example_render\").on('select',function(e, dt, type, indexes){OnRowSelected(e, dt, type, indexes);});\r\n$(\"#example_render\").on('deselect',function(e, dt, type, indexes){OnRowDeselected(e, dt, type, indexes);});\r\n$(\"#example_render\").on('user-select',function(e, dt, type, cell, originalEvent){beforeRowSelection(e, dt, type, cell, originalEvent);});\r\n",HasClickEvents:!1,ClickEvents:null,IsSubmitOnlyNewAndModifiedRows:!1,TableDefaultDatesFormat:"YYYY-MM-DD",HasEditRowCommand:!0,EditPopupTitle:"Update Person"};module_example_render=function(){$(function(){function s(t){var i,r;let u=n.attr("default_date_time_format");for(i in t)t[i]!==null&&typeof t[i]=="object"?s(t[i]):t[i]!=null&&t[i].toString().indexOf("/Date(")>-1&&(r=window.moment.utc(t[i]),t[i]=r.locale("fr-ca").format(u))}function h(){let t=dtModel.EditPopupTitle;n.find(".dt-edit-command").bind("click",function(n){let r=$(n.target).data("row-index"),u=new DtApi(i),f=u.recupereLigneParIndex(r).recupereDonneesLigne(),e=c(f);Swal.fire({title:`<strong>${t}</strong>`,icon:"info",html:'<form class="dt-edit-form" style="text-align:left;">'+e.join("")+"<\/form>",className:"dt-popup-edit-swal-actions",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"><\/i> Save',cancelButtonText:'<i class="fa fa-thumbs-down"> Cancel<\/i>',preConfirm:()=>{let n=$(".dt-edit-form");if($.validator.unobtrusive.parse(n),n.valid()==!1)return!1;let t={};return n.submit(function(n){n.preventDefault();const i=new FormData(n.target);t=Object.fromEntries(i.entries())}),n.submit(),t}}).then(n=>{n.isConfirmed&&(alert(JSON.stringify(n.value)),l(r,n.value))})})}function c(n){var i=t.settings().init().columns,r=[];for(var u in i){let f=i[u].name,e=t.column(f+":name");if(e.dataSrc()!=undefined)if(e.visible())if(i[u].type==="bool"){let t=n[f]===!0?'checked="checked"':"";r.push(` <div class="form-check mb-3">
    <input type="hidden" name="${f}" value="false">
    <input type="checkbox" class="form-check-input" name="${f}" id="${f}"  ${t} value='true'>
    <label class="form-check-label" for="${f}" style="font-weight: bold;">${$(e.header()).html()}</label>
</div>`)}else r.push(` <div class="form-group">
    <label for="${f}" style="font-weight: bold;">${$(e.header()).html()}</label>
    <input type="${i[u].type}" class="form-control" name="${f}" value="${n[f]}" data-val="true" data-val-required="Le champ Name est requis.">
    <span class="field-validation-valid text-danger" data-valmsg-for="${f}" data-valmsg-replace="true"></span>
  </div>`);else r.push(`<input type="hidden" name="${f}" value="${n[f]}">`)}return r}function l(n,t){let r=new DtApi(i),u=r.recupereLigneParIndex(n).recupereDonneesLigne();r.modifierLigne(t)}var i=dtModel.TableName,n=$("#"+i),e=document.getElementById(`div__dt__${i}`),u,r,t,o,f;if(n.length>0)if(n.is("table")===!1)throw i+" is not a table";else n.attr("default_date_time_format",dtModel.TableDefaultDatesFormat);else{let t=document.createElement("table");t.setAttribute("default_date_time_format",dtModel.TableDefaultDatesFormat);t.setAttribute("width","100%");t.setAttribute("class","display "+dtModel.TableClassName);t.setAttribute("id",dtModel.TableName);e.appendChild(t);n=$("#"+i)}n.on("draw.dt",function(){h()});if(dtModel.IsUsedInForm&&$(e).append("<input type='hidden' id='"+dtModel.IdOfHiddenInputHoldingTableData+"' "+dtModel.NameAttributeForHiddenInputHoldingTableData+"/>"),u=dtModel.IsDtAjaxLoadingDefferd,r={dom:"Bfrtipl",searchHighlight:!0,colReorder:{fixedColumnsLeft:1,fixedColumnsRight:1},scrollY:"400px",processing:!0,initComplete:function(){onInitComplete(this.api())},rowId:"Identifiant",columns:[{data:"Identifiant",orderable:!1,checkboxes:{selectRow:!0}},{data:"Identifiant",name:"Identifiant",title:"Identifiant",type:"number",visible:!1},{data:"Name",name:"Name",title:"Name",type:"text",orderable:!1,className:"test_class_type",render:function(n,t,i,r){return bold(n,t,i,r)}},{data:"Age",name:"Age",title:"Age",type:"number",className:"demo-class"},{data:"DOB",name:"DOB",title:"DOB",type:"date"},{data:"IsMaried",name:"IsMaried",type:"bool",title:"Married",render:function(n,t,i,r){return formatIsMaried(n,t,i,r)}},{data:"Progress",name:"Progress",title:"Progress",type:"text",render:$.fn.dataTable.render.percentBar("round","#FFF","#269ABC","#31B0D5","#286090",1,"groove")},{data:null,className:"dt-command",orderable:!1,searchable:!1,render:function(n,t,i,r){return cmdEditPerson(n,t,i,r)},width:"13%"},{data:null,orderable:!1,className:"dt-command",render:function(n,t,i,r){return'<i class="dt-edit-command far fa-edit" data-row-index='+r.row+"><\/i>"}}],order:[[1,"asc"]],select:{style:"multi"},buttons:[{extend:"pdf",text:"Export PDF",className:"dt_pdf_btn"}],ajax:function(n,t){if(u){u=!1;t({data:[]});return}$.ajax({url:"/Home/GetPeople",method:"POST",beforeSend:function(n,t){beforeSendFunction(n,t)},success:function(n){s(n);t(n);onSuccessFunction(n)},error:function(n){onErrorFunction(n)},data:getPeopleSector(n)})}},dtModel.HasDefaultSettings&&(r=$.extend({},DataTableConfig.dtDefaults(),r)),t=n.DataTable(r),dtModel.DoCreateDtApiInstance&&(example_render_dt=new DtApi(i)),dtModel.IsUsedInForm){o=dtModel.FormId!=""?$("#"+dtModel.FormId):n.closest("form");o.on("submit",function(){var i=t.rows().data().toArray(),r,n,u,f,e;if(dtModel.IsSubmitOnlyNewAndModifiedRows&&(i=i.filter(function(n){return n.isDirty===!0})),dtModel.SubmitWithMultiHiddenInputs){for(r="",n=0;n<i.length;n++){u=i[n];for(const t in u)f=dtModel.PrefixForMultiHiddenInputs+"["+n+"]."+t,e=u[t],r+="<input name='"+f+"' type='hidden' value='"+e+"' />"}$("#"+dtModel.IdOfHiddenInputHoldingTableData).html(r)}else $("#"+dtModel.IdOfHiddenInputHoldingTableData).val(JSON.stringify(t.rows().data().toArray()))})}if(dtModel.NativeEvents,dtModel.HasCheckBoxColumn)t.on("user-select",function(n,t,i,r,u){$(u.currentTarget).hasClass("dt-command")&&n.preventDefault()});if(dtModel.HasClickEvents){f=[dtModel.ClickEvents];n.on("click","button",function(){var n=t.row($(this).parents("tr")),i=t.column($(this).parents("td")).index();f.length>i&&(f[i]({data:$(this).data(),row:n.data(),rowId:n.id(),rowIndex:n.index(),dataTable:t}),PrefixForMultiHiddenInputsrefixForMultiHiddenInputsfixForMultiHiddenInputsfixForMultiHiddenInputsfixForMultiHiddenInputs);ModePrefixForMultiHiddenInputsPrefixForMultiHiddenInputsfixForMultiHiddenInputsfixForMultiHiddenInputs})}})}()
